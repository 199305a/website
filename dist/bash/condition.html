<!DOCTYPE html><html prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>条件判断 - Bash 脚本教程 - 网道</title><!-- link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" --><link rel="stylesheet" href="assets/css/app.min.css"><link rel="stylesheet" href="https://apps.bdimg.com/libs/fontawesome/4.4.0/css/font-awesome.css"><!-- link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css"--><!-- link rel="stylesheet" href="assets/css/share.min.css" --><meta property="og:type" content="article"><meta property="og:title" content="条件判断"><link rel="apple-touch-icon" sizes="57x57" href="assets/icons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="assets/icons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="assets/icons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="assets/icons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="assets/icons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="assets/icons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="assets/icons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="assets/icons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="assets/icons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="assets/icons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png"><link rel="manifest" href="assets/icons/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="assets/icons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"></head><body><nav class="navbar is-light" role="navigation" id="navbar" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a href="/" class="navbar-item title has-text-grey has-text-weight-light is-5">网道 / WangDoc.com</a></div><div class="navbar-menu"><div class="navbar-end"><a class="navbar-item is-hidden-desktop-only" target="_blank" href="https://github.com/wangdoc/bash-tutorial"><span class="icon" style="color: #333;"><i class="fa fa-lg fa-github"></i></span></a></div></div></div></nav><section class="section main article"><div class="container"><div class="columns"><div class="column is-8"><nav class="breadcrumb is-size-5-desktop" aria-label="breadcrumbs"><ul><li><a href="index.html"><span class="icon"><i class="fa fa-home"></i></span> &nbsp;Bash 脚本教程</a></li><li class="is-active"><a class="has-text-grey" href="condition.html">条件判断</a></li></ul></nav><nav class="level level-previous-next is-size-5 is-mobile"><!-- Left side --><div class="level-left"><p class="level-item is-narrow"><a href="read.html"><span class="icon"><i class="fa fa-toggle-left"></i></span> read 命令</a></p></div><div class="level-right"><p class="level-item is-narrow"><a href="loop.html">循环 <span class="icon"><i class="fa fa-toggle-right"></i></span></a></p></div></nav><article class="content is-size-5-desktop"><h1 class="title">条件判断</h1><div class="page-meta"><p>网道（WangDoc.com），互联网文档计划</p></div><h2 id="if-结构">if 结构 <a class="markdownIt-Anchor" href="#if-结构">#</a></h2><p><code>if</code>结构用于条件判断，符合条件时，才会执行指定的命令。它的语法如下。</p><pre class="hljs"><code><span class="hljs-keyword">if</span> commands; <span class="hljs-keyword">then</span>
  commands
[<span class="hljs-keyword">elif</span> commands; <span class="hljs-keyword">then</span>
  commands...]
[<span class="hljs-keyword">else</span>
  commands]
<span class="hljs-keyword">fi</span>
</code></pre><p>这个命令分成三个部分：<code>if</code>、<code>elif</code>和<code>else</code>。其中，后两个部分是可选的。</p><p><code>if</code>后面是主要的判断条件，<code>elif</code>用来添加在主条件不成立时的其他判断条件，<code>else</code>则是所有条件都不成立时要执行的部分。</p><pre class="hljs"><code><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> <span class="hljs-variable">$USER</span> = <span class="hljs-string">"foo"</span>; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello foo."</span>
<span class="hljs-keyword">else</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"You are not foo."</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面的例子中，判断条件是环境变量<code>$USER</code>是否等于<code>foo</code>，如果等于就输出<code>Hello foo.</code>，否则输出其他内容。</p><p><code>if</code>和<code>then</code>如果写在同一行，它们之间需要分号分隔。分号是 Bash 的命令分隔符。但是，<code>if</code>和<code>then</code>也可以写成两行，这时它们之间不需要使用分号。</p><pre class="hljs"><code><span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>
<span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">'hello world'</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> <span class="hljs-literal">false</span>
<span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">'it is false'</span> <span class="hljs-comment"># 本行不会执行</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面的例子中，<code>true</code>和<code>false</code>是两个特殊命令，前者代表操作成功，后者代表操作失败。第一个<code>if true</code>，意味着命令部分总是会执行；而第二个<code>if false</code>的命令部分，则总是不会执行。</p><p>除了多行的写法，<code>if</code>结构也可以写成单行。</p><pre class="hljs"><code>$ <span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">'hello world'</span>; <span class="hljs-keyword">fi</span>
hello world

$ <span class="hljs-keyword">if</span> <span class="hljs-literal">false</span>; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"It's true."</span>; <span class="hljs-keyword">fi</span>
</code></pre><p>注意，<code>if</code>后面也可以是一条命令，该条命令执行成功（返回值<code>0</code>），就意味着判断条件成立。</p><pre class="hljs"><code>$ <span class="hljs-keyword">if</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">'hi'</span>; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">'hello world'</span>; <span class="hljs-keyword">fi</span>
hi
hello world
</code></pre><p>上面命令中，<code>if</code>后面是一条命令。该命令会执行，如果返回值是<code>0</code>，则执行<code>then</code>的部分。</p><p><code>if</code>后面可以跟任意数量的命令。这时，所有命令都会执行，但是判断真伪只看最后一个命令，即使前面所有命令都失败，只要最后一个命令返回<code>0</code>，就会执行<code>then</code>的部分。</p><pre class="hljs"><code>$ <span class="hljs-keyword">if</span> <span class="hljs-literal">false</span>; <span class="hljs-literal">true</span>; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">'hello world'</span>; <span class="hljs-keyword">fi</span>
hello world
</code></pre><p>上面例子中，<code>if</code>后面有两条命令（<code>false;true;</code>），第二条命令（<code>true</code>）决定了<code>then</code>的部分是否会执行。</p><p><code>elif</code>语句可以有多条。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-built_in">echo</span> -n <span class="hljs-string">"输入一个1到3之间的数字（包含两端）&gt; "</span>
<span class="hljs-built_in">read</span> character
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$character</span>"</span> = <span class="hljs-string">"1"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> 1
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$character</span>"</span> = <span class="hljs-string">"2"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> 2
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$character</span>"</span> = <span class="hljs-string">"3"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> 3
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> 输入不符合要求
<span class="hljs-keyword">fi</span>
</code></pre><h2 id="test-命令">test 命令 <a class="markdownIt-Anchor" href="#test-命令">#</a></h2><p><code>if</code>结构的判断条件，一般使用<code>test</code>命令，有三种形式。</p><pre class="hljs"><code><span class="hljs-comment"># 写法一</span>
<span class="hljs-built_in">test</span> expression

<span class="hljs-comment"># 写法二</span>
[ expression ]

<span class="hljs-comment"># 写法三</span>
[[ expression ]]
</code></pre><p>上面的<code>expression</code>是一个表达式，这个表达式的判断结果是<code>true</code>或者是<code>false</code>。当表达式为<code>true</code>时，<code>test</code>命令执行成功（命令的返回值为<code>0</code>），当表达式为<code>false</code>时，<code>test</code>命令执行失败（命令的返回值为<code>1</code>）。</p><pre class="hljs"><code>$ <span class="hljs-built_in">test</span> -f /etc/hosts
$ <span class="hljs-built_in">echo</span> $?
0

$ [ -f /etc/hosts ]
$  <span class="hljs-built_in">echo</span> $?
0
</code></pre><p>上面命令使用<code>test</code>的两种形式，判断<code>/etc/hosts</code>文件是否存在，该命令的返回值为<code>0</code>，表示该文件确实存在。</p><p>注意，第二种和第三种写法，<code>[</code>和<code>]</code>与内部的表达式之间都必须有空格。写法三比前两种写法多出一个功能，就是支持正则判断，其他完全一样，详见后文。</p><p>下面是三种写法的例子，判断一个文件是否存在。</p><pre class="hljs"><code><span class="hljs-comment"># 写法一</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> -e /tmp/foo.txt ; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Found foo.txt"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 写法二</span>
<span class="hljs-keyword">if</span> [ -e /tmp/foo.txt ] ; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Found foo.txt"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 写法三</span>
<span class="hljs-keyword">if</span> [[ -e /tmp/foo.txt ]] ; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Found foo.txt"</span>
<span class="hljs-keyword">fi</span>
</code></pre><h2 id="判断表达式">判断表达式 <a class="markdownIt-Anchor" href="#判断表达式">#</a></h2><p><code>if</code>结构常用的判断表达式有以下这些。</p><h3 id="文件表达式">文件表达式 <a class="markdownIt-Anchor" href="#文件表达式">#</a></h3><p>以下表达式用来测试文件状态。</p><ul><li><code>[ -a file ]</code>：如果 file 存在，则为<code>true</code>。</li><li><code>[ -b file ]</code>：如果 file 存在并且是一个块（设备）文件，则为<code>true</code>。</li><li><code>[ -c file ]</code>：如果 file 存在并且是一个字符（设备）文件，则为<code>true</code>。</li><li><code>[ -d file ]</code>：如果 file 存在并且是一个目录，则为<code>true</code>。</li><li><code>[ -e file ]</code>：如果 file 存在，则为<code>true</code>。</li><li><code>[ -f file ]</code>：如果 file 存在并且是一个普通文件，则为<code>true</code>。</li><li><code>[ -g file ]</code>：如果 file 存在并且设置了组 ID，则为<code>true</code>。</li><li><code>[ -G file ]</code>：如果 file 存在并且属于有效的组 ID，则为<code>true</code>。</li><li><code>[ -h file ]</code>：如果 file 存在并且是符号链接，则为<code>true</code>。</li><li><code>[ -k file ]</code>：如果 file 存在并且设置了它的“sticky bit”，则为<code>true</code>。</li><li><code>[ -L file ]</code>：如果 file 存在并且是一个符号链接，则为<code>true</code>。</li><li><code>[ -N file ]</code>：如果 file 存在并且自上次读取后已被修改，则为<code>true</code>。</li><li><code>[ -O file ]</code>：如果 file 存在并且属于有效的用户 ID，则为<code>true</code>。</li><li><code>[ -p file ]</code>：如果 file 存在并且是一个命名管道，则为<code>true</code>。</li><li><code>[ -r file ]</code>：如果 file 存在并且可读（当前用户有可读权限），则为<code>true</code>。</li><li><code>[ -s file ]</code>：如果 file 存在且其长度大于零，则为<code>true</code>。</li><li><code>[ -S file ]</code>：如果 file 存在且是一个网络 socket，则为<code>true</code>。</li><li><code>[ -t fd ]</code>：如果 fd 是一个文件描述符，并且重定向到终端，则为<code>true</code>。 这可以用来判断是否重定向了标准输入／输出错误。</li><li><code>[ -u file ]</code>：如果 file 存在并且设置了 setuid 位，则为<code>true</code>。</li><li><code>[ -w file ]</code>：如果 file 存在并且可写（当前用户拥有可写权限），则为<code>true</code>。</li><li><code>[ -x file ]</code>：如果 file 存在并且可执行（有效用户有执行／搜索权限），则为<code>true</code>。</li><li><code>[ file1 -nt file2 ]</code>：如果 FILE1 比 FILE2 的更新时间最近，或者 FILE1 存在而 FILE2 不存在，则为<code>true</code>。</li><li><code>[ file1 -ot file2 ]</code>：如果 FILE1 比 FILE2 的更新时间更旧，或者 FILE2 存在而 FILE1 不存在，则为<code>true</code>。</li><li><code>[ FILE1 -ef FILE2 ]</code>：如果 FILE1 和 FILE2 引用相同的设备和 inode 编号，则为<code>true</code>。</li></ul><p>下面的例子用来测试文件的属性。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># test-file: Evaluate the status of a file</span>
FILE=~/.bashrc
<span class="hljs-keyword">if</span> [ -e <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$FILE</span> is a regular file."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ -d <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$FILE</span> is a directory."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ -r <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$FILE</span> is readable."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ -w <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$FILE</span> is writable."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ -x <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$FILE</span> is executable/searchable."</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$FILE</span> does not exist"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">exit</span>
</code></pre><p>上面代码中，<code>$FILE</code>放在双引号之中。这样可以防止<code>$FILE</code>为空的错误，因为只要放在双引号之中，返回的就总是一个字符串。另外，最后的<code>exit</code>命令，可以保证如果没有出错，退出状态总是为0。</p><h3 id="字符串表达式">字符串表达式 <a class="markdownIt-Anchor" href="#字符串表达式">#</a></h3><p>以下表达式用来判断字符串。</p><ul><li><code>[ string ]</code>：如果<code>string</code>不为空（长度大于0），则判断为真。</li><li><code>[ -n string ]</code>：如果字符串<code>string</code>的长度大于零，则判断为真。</li><li><code>[ -z string ]</code>：如果字符串<code>string</code>的长度为零，则判断为真。</li><li><code>[ string1 = string2 ]</code>：如果<code>string1</code>和<code>string2</code>相同，则判断为真。</li><li><code>[ string1 == string2 ]</code> 等同于<code>[ string1 = string2 ]</code>。</li><li><code>[ string1 != string2 ]</code>：如果<code>string1</code>和<code>string2</code>不相同，则判断为真。</li><li><code>[ string1 &gt; string2 ]</code>：如果按照字典顺序<code>string1</code>排列在<code>string2</code>之后，则判断为真。</li><li><code>[ string1 &lt; string2 ]</code>：如果按照字典顺序<code>string1</code>排列在<code>string2</code>之前，则判断为真。</li></ul><p>注意，<code>&gt;</code>和<code>&lt;</code>表达式操作符必须用引号引起来（或者是用反斜杠转义）， 当与<code>test</code>一块使用的时候。如果不这样，它们会被 shell 解释为重定向操作符。</p><p>下面是一个用法的例子。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># test-string: evaluate the value of a string</span>
ANSWER=maybe
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$ANSWER</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"There is no answer."</span> &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$ANSWER</span>"</span> = <span class="hljs-string">"yes"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"The answer is YES."</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$ANSWER</span>"</span> = <span class="hljs-string">"no"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"The answer is NO."</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$ANSWER</span>"</span> = <span class="hljs-string">"maybe"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"The answer is MAYBE."</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"The answer is UNKNOWN."</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面代码中，首先确定<code>$ANSWER</code>字符串是否为空。如果为空，就终止脚本，并把退出状态设为<code>1</code>。注意，这里的<code>echo</code>命令把错误信息<code>There is no answer.</code>重定向到标准错误，这是处理错误信息的常用方法。如果<code>$ANSWER</code>字符串不为空，就判断它的值是否等于<code>yes</code>、<code>no</code>或者<code>maybe</code>。</p><p>注意，字符串判断时，变量要放在双引号之中，比如<code>[ -n &quot;$COUNT&quot; ]</code>，否则变量替换成字符串以后，<code>test</code>命令可能会报错，提示参数过多。另外，如果不放在双引号之中，变量为空时，命令会变成<code>[ -n ]</code>，这时会判断为真。如果放在双引号之中，<code>[ -n &quot;&quot; ]</code>就判断为伪。</p><h3 id="整数表达式">整数表达式 <a class="markdownIt-Anchor" href="#整数表达式">#</a></h3><p>下面的表达式用于判断整数。</p><ul><li><code>[ integer1 -eq integer2 ]</code>：如果<code>integer1</code>等于<code>integer2</code>，则为<code>true</code>。</li><li><code>[ integer1 -ne integer2 ]</code>：如果<code>integer1</code>不等于<code>integer2</code>，则为<code>true</code>。</li><li><code>[ integer1 -le integer2 ]</code>：如果<code>integer1</code>小于或等于<code>integer2</code>，则为<code>true</code>。</li><li><code>[ integer1 -lt integer2 ]</code>：如果<code>integer1</code>小于<code>integer2</code>，则为<code>true</code>。</li><li><code>[ integer1 -ge integer2 ]</code>：如果<code>integer1</code>大于或等于<code>integer2</code>，则为<code>true</code>。</li><li><code>[ integer1 -gt integer2 ]</code>：如果<code>integer1</code>大于<code>integer2</code>，则为<code>true</code>。</li></ul><p>下面是一个用法的例子。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># test-integer: evaluate the value of an integer.</span>
INT=-5
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$INT</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is empty."</span> &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$INT</span> -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is zero."</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$INT</span> -lt 0 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is negative."</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is positive."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ $((INT % 2)) -eq 0 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is even."</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is odd."</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面例子中，通过求余数，判断一个数字是偶数还是奇数。</p><h3 id="正则表达式">正则表达式 <a class="markdownIt-Anchor" href="#正则表达式">#</a></h3><p><code>[[ expression ]]</code>这种判断形式，支持正则表达式。</p><pre class="hljs"><code>[[ string1 =~ regex ]]
</code></pre><p>下面是一个例子。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># test-integer2: evaluate the value of an integer.</span>
INT=-5
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">"<span class="hljs-variable">$INT</span>"</span> =~ ^-?[0-9]+$ ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is an integer."</span>
  <span class="hljs-built_in">exit</span> 0
<span class="hljs-keyword">else</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is not an integer."</span> &gt;&amp;2
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</code></pre><p>上面代码中，先判断一个变量是否为正数或负数，如果是的话，再进行进一步判断。</p><h3 id="算术条件">算术条件 <a class="markdownIt-Anchor" href="#算术条件">#</a></h3><p>Bash 还提供了<code>((...))</code>作为算术条件，进行算术运算的判断。</p><pre class="hljs"><code><span class="hljs-keyword">if</span> ((3 &gt; 2)); <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"true"</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面代码执行后，会打印出<code>true</code>。</p><p>如果算术计算的结果是非零值，则表示判断成立。</p><pre class="hljs"><code>$ <span class="hljs-keyword">if</span> ((1)); <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"It is true."</span>; <span class="hljs-keyword">fi</span>
It is <span class="hljs-literal">true</span>.
$ <span class="hljs-keyword">if</span> ((0)); <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"It is true."</span>; <span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"it is false."</span>; <span class="hljs-keyword">fi</span>
It is <span class="hljs-literal">false</span>.
</code></pre><p>上面例子中，<code>((1))</code>表示判断成立，<code>((0))</code>表示判断不成立。</p><p>算术条件<code>((...))</code>也可以用于变量赋值。</p><pre class="hljs"><code>$ <span class="hljs-keyword">if</span> (( foo = 5 ));<span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"foo is <span class="hljs-variable">$foo</span>"</span>; <span class="hljs-keyword">fi</span>
foo is 5
</code></pre><p>上面例子中，<code>(( foo = 5 ))</code>完成了两件事情。首先把<code>5</code>赋值给变量<code>foo</code>，然后根据返回值<code>5</code>，判断条件为真。</p><p>注意，赋值语句返回等号右边的值，如果返回的是<code>0</code>，则判断为假。</p><pre class="hljs"><code>$ <span class="hljs-keyword">if</span> (( foo = 0 ));<span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"It is true."</span>;<span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"It is false."</span>; <span class="hljs-keyword">fi</span>
It is <span class="hljs-literal">false</span>.
</code></pre><p>下面是用算术条件改写的数值判断脚本。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># test-integer2a: evaluate the value of an integer.</span>
INT=-5
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">"<span class="hljs-variable">$INT</span>"</span> =~ ^-?[0-9]+$ ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">if</span> ((INT == 0)); <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is zero."</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">if</span> ((INT &lt; 0)); <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is negative."</span>
    <span class="hljs-keyword">else</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is positive."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> (( ((INT % 2)) == 0)); <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is even."</span>
    <span class="hljs-keyword">else</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is odd."</span>
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is not an integer."</span> &gt;&amp;2
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</code></pre><p>只要是算术表达式，都能用于<code>((...))</code>语法，详见《Bash 的算术运算》一章。</p><h3 id="表达式的结合">表达式的结合 <a class="markdownIt-Anchor" href="#表达式的结合">#</a></h3><p>通过逻辑操作符，可以把表达式结合起来，创建更复杂的逻辑判断。三个逻辑操作是<code>AND</code>，<code>OR</code>，和<code>NOT</code>，它们都有自己的专用符号。</p><ul><li><code>AND</code>运算：符号<code>&amp;&amp;</code>，也可使用参数<code>-a</code>。</li><li><code>OR</code>运算：符号<code>||</code>，也可使用参数<code>-o</code>。</li><li><code>NOT</code>运算：符号<code>!</code>。</li></ul><p>下面是一个<code>AND</code>操作的例子，判断整数是否在某个范围之内。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash
</span>
MIN_VAL=1
MAX_VAL=100

INT=50

<span class="hljs-keyword">if</span> [[ <span class="hljs-string">"<span class="hljs-variable">$INT</span>"</span> =~ ^-?[0-9]+$ ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$INT</span> -ge <span class="hljs-variable">$MIN_VAL</span> &amp;&amp; <span class="hljs-variable">$INT</span> -le <span class="hljs-variable">$MAX_VAL</span> ]]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$INT</span> is within <span class="hljs-variable">$MIN_VAL</span> to <span class="hljs-variable">$MAX_VAL</span>."</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$INT</span> is out of range."</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"INT is not an integer."</span> &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</code></pre><p>上面例子中，<code>&amp;&amp;</code>用来连接两个判断条件：大于等于<code>$MIN_VAL</code>，并且小于等于<code>$MAX_VAL</code>。</p><p>不过，更方便的写法是使用下一段介绍的控制运行符。</p><pre class="hljs"><code><span class="hljs-keyword">if</span> [ condition ] &amp;&amp; [ condition ]; <span class="hljs-keyword">then</span>
</code></pre><p>使用否定操作符<code>!</code>时，最好用圆括号确定转义的范围。</p><pre class="hljs"><code><span class="hljs-keyword">if</span> [ ! \( <span class="hljs-variable">$INT</span> -ge <span class="hljs-variable">$MIN_VAL</span> -a <span class="hljs-variable">$INT</span> -le <span class="hljs-variable">$MAX_VAL</span> \) ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$INT</span> is outside <span class="hljs-variable">$MIN_VAL</span> to <span class="hljs-variable">$MAX_VAL</span>."</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$INT</span> is in range."</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面例子中，<code>test</code>命令使用的特殊字符（<code>&lt;</code>，<code>&gt;</code>，<code>(</code>，和 <code>)</code>等），必须引用或者转义，否则会被 Bash 解释。</p><h3 id="控制操作符">控制操作符 <a class="markdownIt-Anchor" href="#控制操作符">#</a></h3><p>Bash 支持两种命令的控制操作符<code>&amp;&amp;</code>（AND）和<code>||</code>（OR），作用与<code>[[ ... ]]</code>中的逻辑操作符相同。</p><pre class="hljs"><code>$ command1 &amp;&amp; command2
$ command1 || command2
</code></pre><p>对于<code>&amp;&amp;</code>操作符，先执行<code>command1</code>，只有<code>command1</code>执行成功后， 才会执行<code>command2</code>。对于<code>||</code>操作符，先执行<code>command1</code>，只有<code>command1</code>执行失败后， 才会执行<code>command2</code>。</p><pre class="hljs"><code>$ mkdir temp &amp;&amp; <span class="hljs-built_in">cd</span> temp
</code></pre><p>上面的命令会创建一个名为<code>temp</code>的目录，执行成功后，才会执行第二个命令，进入这个目录。</p><pre class="hljs"><code>$ [ -d temp ] || mkdir temp
</code></pre><p>上面的命令会测试目录<code>temp</code>是否存在，如果不存在，就会执行第二个命令，创建这个目录。这种写法非常有助于在脚本中处理错误。</p><pre class="hljs"><code>[ ! -d temp ] &amp;&amp; <span class="hljs-built_in">exit</span> 1
</code></pre><p>上面的命令中，如果<code>temp</code>子目录不存在，脚本会终止，并且返回值为<code>1</code>。</p><p><code>if</code>结构也可以直接使用上面的控制操作符。</p><pre class="hljs"><code><span class="hljs-meta">#! /bin/bash</span>
filename=<span class="hljs-variable">$1</span>
word1=<span class="hljs-variable">$2</span>
word2=<span class="hljs-variable">$3</span>

<span class="hljs-keyword">if</span> grep <span class="hljs-variable">$word1</span> <span class="hljs-variable">$filename</span> &amp;&amp; grep <span class="hljs-variable">$word2</span> <span class="hljs-variable">$filename</span>
<span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$word1</span> and <span class="hljs-variable">$word2</span> are both in <span class="hljs-variable">$filename</span>."</span>
<span class="hljs-keyword">fi</span>
</code></pre><p>上面的例子只有在指定文件里面，同时存在搜索词<code>word1</code>和<code>word2張上淳</code>，就会执行<code>if</code>的命令部分。</p><pre class="hljs"><code>[[ -d <span class="hljs-string">"<span class="hljs-variable">$dir_name</span>"</span> ]] &amp;&amp; <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$dir_name</span>"</span> &amp;&amp; rm *

<span class="hljs-comment"># 等同于</span>

<span class="hljs-keyword">if</span> [[ ! -d <span class="hljs-string">"<span class="hljs-variable">$dir_name</span>"</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"No such directory: '<span class="hljs-variable">$dir_name</span>'"</span> &gt;&amp;2
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> ! <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$dir_name</span>"</span>; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Cannot cd to '<span class="hljs-variable">$dir_name</span>'"</span> &gt;&amp;2
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> ! rm *; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"File deletion failed. Check results"</span> &gt;&amp;2
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</code></pre><p>上面例子中，将一个控制操作符号的语句，改写成<code>if</code>结构。</p><h2 id="case-结构">case 结构 <a class="markdownIt-Anchor" href="#case-结构">#</a></h2><p><code>case</code>结构用于表达式有多个值时的判断，可以为每个值指定对应的命令。它类似于包含多个<code>elif</code>的<code>if</code>结构，但是语义更好。它的语法如下。</p><pre class="hljs"><code><span class="hljs-keyword">case</span> expression <span class="hljs-keyword">in</span>
  pattern )
    commands ;;
  pattern )
    commands ;;
  ...
<span class="hljs-keyword">esac</span>
</code></pre><p>上面代码中，<code>expression</code>是一个表达式，通常是一个变量，<code>pattern</code>是变量的值。<code>pattern</code>部分可以有多条，用来匹配多个值，每条以两个分号（<code>;</code>）结尾。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-built_in">echo</span> -n <span class="hljs-string">"输入一个1到3之间的数字（包含两端）&gt; "</span>
<span class="hljs-built_in">read</span> character
<span class="hljs-keyword">case</span> <span class="hljs-variable">$character</span> <span class="hljs-keyword">in</span>
    1 ) <span class="hljs-built_in">echo</span> 1
        ;;
    2 ) <span class="hljs-built_in">echo</span> 2
        ;;
    3 ) <span class="hljs-built_in">echo</span> 3
        ;;
    * ) <span class="hljs-built_in">echo</span> 输入不符合要求
<span class="hljs-keyword">esac</span>
</code></pre><p>上面例子中，最后一条匹配语句的模式是<code>*</code>，这个通配符可以匹配没有字符，放在最后表示匹配所有其他情况，类似<code>if</code>的<code>else</code>部分。</p><p>下面是另一个例子。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash
</span>
OS=`uname -s`

<span class="hljs-keyword">case</span> <span class="hljs-string">"<span class="hljs-variable">$OS</span>"</span> <span class="hljs-keyword">in</span>
  FreeBSD) <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is FreeBSD"</span> ;;
  Darwin) <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is Mac OSX"</span> ;;
  AIX) <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is AIX"</span> ;;
  Minix) <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is Minix"</span> ;;
  Linux) <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is Linux"</span> ;;
  *) <span class="hljs-built_in">echo</span> <span class="hljs-string">"Failed to identify this OS"</span> ;;
<span class="hljs-keyword">esac</span>
</code></pre><p>上面的例子判断当前是操作系统属于哪一类。</p><p><code>case</code>的匹配模式可以使用各种通配符，下面是一些例子。</p><ul><li><code>a)</code>：值等于“a”，则匹配</li><li><code>a|b)</code>：值等于“a”或“b”，则匹配</li><li><code>[[:alpha:]])</code>：单词是一个字母，则匹配</li><li><code>???)</code>：单词只有3个字符，则匹配</li><li><code>*.txt)</code>：若单词以 “.txt” 字符结尾，则匹配</li><li><code>*)</code>：匹配任意单词。把这个模式做为 case 命令的最后一个模式，可以捕捉到任意一个与先前模式不匹配的数值；也就是说，捕捉到任何可能的无效值。</li></ul><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-built_in">echo</span> -n <span class="hljs-string">"属于一个字母或数字 &gt; "</span>
<span class="hljs-built_in">read</span> character
<span class="hljs-keyword">case</span> <span class="hljs-variable">$character</span> <span class="hljs-keyword">in</span>
  [[:lower:]] | [[:upper:]] ) <span class="hljs-built_in">echo</span> <span class="hljs-string">"输入了字母 <span class="hljs-variable">$character</span>"</span>
                              ;;
  [0-9] )                     <span class="hljs-built_in">echo</span> <span class="hljs-string">"输入了数字 <span class="hljs-variable">$character</span>"</span>
                              ;;
  * )                         <span class="hljs-built_in">echo</span> <span class="hljs-string">"输入不符合要求"</span>
<span class="hljs-keyword">esac</span>
</code></pre><p>上面例子中，使用通配符<code>[[:lower:]] | [[:upper:]]</code>匹配字母，<code>[0-9]</code>匹配数字。</p><p>Bash 4.0之前，一个条件只能匹配一个模式，然后就退出<code>case</code>语句块。Bash 4.0之后，允许一个条件可以匹配多个模式，这时可以用<code>;;&amp;</code>终止每个条件块。</p><pre class="hljs"><code><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># case4-2: test a character</span>
<span class="hljs-built_in">read</span> -n 1 -p <span class="hljs-string">"Type a character &gt; "</span>
<span class="hljs-built_in">echo</span>
<span class="hljs-keyword">case</span> <span class="hljs-variable">$REPLY</span> <span class="hljs-keyword">in</span>
    [[:upper:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is upper case."</span> ;;&amp;
    [[:lower:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is lower case."</span> ;;&amp;
    [[:alpha:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is alphabetic."</span> ;;&amp;
    [[:digit:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is a digit."</span> ;;&amp;
    [[:graph:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is a visible character."</span> ;;&amp;
    [[:punct:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is a punctuation symbol."</span> ;;&amp;
    [[:space:]])    <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is a whitespace character."</span> ;;&amp;
    [[:xdigit:]])   <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$REPLY</span>' is a hexadecimal digit."</span> ;;&amp;
<span class="hljs-keyword">esac</span>
</code></pre><p>执行上面的脚本，会得到下面的结果。</p><pre class="hljs"><code>$ case4-2
Type a character &gt; a
<span class="hljs-string">'a'</span> is lower <span class="hljs-keyword">case</span>.
<span class="hljs-string">'a'</span> is alphabetic.
<span class="hljs-string">'a'</span> is a visible character.
<span class="hljs-string">'a'</span> is a hexadecimal digit.
</code></pre><p>添加的<code>;;&amp;</code>，允许 case 语句继续执行下一条测试，而不是简单地终止运行。</p></article><nav class="level level-previous-next is-size-5 is-mobile"><!-- Left side --><div class="level-left"><p class="level-item is-narrow"><a href="read.html"><span class="icon"><i class="fa fa-toggle-left"></i></span> read 命令</a></p></div><div class="level-right"><p class="level-item is-narrow"><a href="loop.html">循环 <span class="icon"><i class="fa fa-toggle-right"></i></span></a></p></div></nav><div class="page-info is-size-5-desktop"><p>本教程采用<a href="https://creativecommons.org/licenses/by-sa/3.0/deed.zh" target="_blank">知识共享 署名-相同方式共享 3.0协议</a>。</p><p>分享本文 <span class="social-share"></span></p></div></div><div class="column is-3 is-offset-1"><nav class="panel panel-menu"><p class="panel-heading"><i class="fa fa-book" aria-hidden="true"></i> Bash 脚本教程</p><div class="panel-block"><aside class="menu"><p class="menu-label"></p><ul class="menu-list"><li><a href="intro.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">简介</span></a></li><li><a href="grammar.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">基本语法</span></a></li><li><a href="expansion.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">模式扩展</span></a></li><li><a href="quotation.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">引号和转义</span></a></li><li><a href="variable.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">变量</span></a></li><li><a href="string.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">字符串操作</span></a></li><li><a href="arithmetic.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">算术运算</span></a></li><li><a href="script.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">脚本入门</span></a></li><li><a href="read.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">read 命令</span></a></li><li><a href="condition.html" class="is-active"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">条件判断</span></a></li><li><a href="loop.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">循环</span></a></li><li><a href="function.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">函数</span></a></li><li><a href="startup.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">启动环境</span></a></li><li><a href="stack.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">目录堆栈</span></a></li><li><a href="array.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">数组</span></a></li><li><a href="readline.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">行操作</span></a></li><li><a href="prompt.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">命令提示符</span></a></li><li><a href="debug.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">脚本除错</span></a></li><li><a href="set.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">set 命令</span></a></li><li><a href="mktemp.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">mktemp 命令</span></a></li><li><a href="trap.html"><span class="icon"></span> <i class="fa fa-file-text-o" aria-hidden="true" style="width: 14px;"></i> &nbsp; <span class="menu-list-title">trap 命令</span></a></li></ul></aside></div></nav><nav class="panel panel-info"><p class="panel-heading"><i class="fa fa-link" aria-hidden="true"></i> 链接</p><div class="panel-block"><aside class="menu"><p class="menu-label"></p><ul class="menu-list"><li><a href="https://raw.githubusercontent.com/wangdoc/bash-tutorial/master/docs/condition.md" target="_blank"><span class="icon"></span><i class="fa fa-code" aria-hidden="true" style="width: 14px;"></i>&nbsp;本文源码</a></li><li><a href="https://github.com/wangdoc/bash-tutorial" target="_blank"><span class="icon"></span><i class="fa fa-hdd-o" aria-hidden="true" style="width: 14px;"></i>&nbsp;代码仓库</a></li><li><a href="https://github.com/wangdoc/bash-tutorial/issues" target="_blank"><span class="icon"></span><i class="fa fa-flag-o" aria-hidden="true" style="width: 14px;"></i>&nbsp;反馈</a></li></ul></aside></div></nav></div></div><div class="columns"><div class="column is-8"><div id="disqus_thread"></div></div></div></div></section><footer class="footer is-size-5-desktop"><div class="container"><div class="content has-text-centered"><p>联系：contact@wangdoc.com</p></div></div></footer><script>var LOPPO={current_path:"condition.md",relative_root_path:"",article_toc:'<ul class="markdownIt-TOC">\n<li><a href="#if-%E7%BB%93%E6%9E%84">if 结构</a></li>\n<li><a href="#test-%E5%91%BD%E4%BB%A4">test 命令</a></li>\n<li><a href="#%E5%88%A4%E6%96%AD%E8%A1%A8%E8%BE%BE%E5%BC%8F">判断表达式</a>\n<ul>\n<li><a href="#%E6%96%87%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F">文件表达式</a></li>\n<li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8%E8%BE%BE%E5%BC%8F">字符串表达式</a></li>\n<li><a href="#%E6%95%B4%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F">整数表达式</a></li>\n<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F">正则表达式</a></li>\n<li><a href="#%E7%AE%97%E6%9C%AF%E6%9D%A1%E4%BB%B6">算术条件</a></li>\n<li><a href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%BB%93%E5%90%88">表达式的结合</a></li>\n<li><a href="#%E6%8E%A7%E5%88%B6%E6%93%8D%E4%BD%9C%E7%AC%A6">控制操作符</a></li>\n</ul>\n</li>\n<li><a href="#case-%E7%BB%93%E6%9E%84">case 结构</a></li>\n</ul>\n'}</script><script src="assets/js/app.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-111269443-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-111269443-1")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?5eec262881855af3dede6a71234571f6";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
const l = window.location;
const url = l.protocol + '//' + l.host + (l.port ? ':' + l.port : '') + l.pathname;
this.page.url = url;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = l.pathname; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://wangdoc-bash.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script><!--script src="assets/js/social-share.min.js"--><!--/script--><script>var shareDesc="我正在阅读《条件判断》，出自网道（WangDoc.com）的《Bash 脚本教程》。",shareOpts={url:window.location.href,source:shareDesc,title:shareDesc,description:"",image:"",sites:["weibo","wechat","qq","qzone","twitter","facebook"],origin:"WangDoc_com",disabled:[],wechatQrcodeTitle:"微信",wechatQrcodeHelper:"扫一下二维码，分享到微信。"};socialShare(".social-share",shareOpts)</script></body></html>